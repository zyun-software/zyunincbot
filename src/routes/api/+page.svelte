<script lang="ts">
	import { goto } from '$app/navigation';
	import { showBackButton } from '$lib/utilities';
	import { onMount } from 'svelte';

	export let data;
	export let form;

	const token = data?.token ?? form?.token ?? '';

	onMount(() => showBackButton(() => goto('/')));
</script>

<div class="p-4">
	<form method="post" action="?/genetateToken" class="mb-4">
		<fieldset class="grid grid-cols-3 items-center mb-2">
			<label for="token">ü§ñ –¢–æ–∫–µ–Ω</label>
			<input
				id="token"
				name="token"
				type="text"
				value={token}
				readonly
				class="p-2 col-span-2 bg-tg-secondary-bg-color rounded w-full"
				placeholder="API —Ç–æ–∫–µ–Ω"
				required
			/>
		</fieldset>
		<button class="w-full p-2 rounded bg-tg-button-color"
			>–ó–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ {token === '' ? '' : '–Ω–æ–≤–∏–π '}—Ç–æ–∫–µ–Ω</button
		>
	</form>
	<div class="rounded p-2 bg-tg-secondary-bg-color mb-2">–ü–µ—Ä–µ–∫–∞–∑ –∫–æ—à—Ç—ñ–≤</div>
	<div class="rounded p-2 bg-tg-secondary-bg-color mb-2">–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ–∫—É</div>
	<div class="rounded p-2 bg-tg-secondary-bg-color mb-2">–ü–µ—Ä–µ–≥–ª—è–¥ —á–µ–∫—É</div>
</div>
